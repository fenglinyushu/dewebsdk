<!DOCTYPE html>
<html lang="zh-CN">

<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>DeWeb</title>
</head>

<body style="background-color:#FFFFFF">
<script src="dist/vue.js" type="text/javascript"></script>
<script src="dist/index.js" type="text/javascript"></script>
<script src="dist/axios.min.js" type="text/javascript"></script>
<link rel="stylesheet" type="text/css" href="dist/theme-chalk/index.css" />

    <div id="app" style="position:absolute;overflow:hidden;left:0;top:0;right:0;bottom:0;margin: 0 auto;background-color:#FFFFFF" :style="{width:Form1_2__wid,height:Form1_2__hei}" >
        <el-dialog :title="input_query_caption" :visible.sync="input_query_visible" >
        	<el-form style="width:90%;padding-left:5%;">
        		<el-form-item :label="input_query_inputname" >
        			<el-input v-model="input_query_inputdefault" autocomplete="off"></el-input>
        		</el-form-item>
        	</el-form>
        	<div slot="footer" class="dialog-footer">
        		<el-button @click="input_query_visible=false">{{input_query_cancelcaption}}</el-button>
        		<el-button type="primary" @click="processinputquery">{{input_query_okcaption}}</el-button>
        	</div>
        </el-dialog>
		<iframe id="id_iframe" name="upload_iframe" style="display:none;"></iframe>
        <el-main v-if="Panel_Header__vis" :disabled="Panel_Header__dis" :style="{backgroundColor:Panel_Header__col,left:Panel_Header__lef,top:Panel_Header__top,width:Panel_Header__wid,height:Panel_Header__hei}" style="position:absolute;overflow:hidden;">
        <div  v-html="Label_Header__cap" v-if="Label_Header__vis" :disabled="Label_Header__dis" :style="{left:Label_Header__lef,top:Label_Header__top,width:Label_Header__wid,height:Label_Header__hei}" style="position:absolute;color:#FFFFFF;font-family:'Verdana';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;text-align:center;line-height:34px;">{{Label_Header__cap}}
        </div>
        <el-button size=small v-if="Button_Return__vis" :disabled="Button_Return__dis" :type="Button_Return__typ" icon="el-icon-arrow-left" :style="{left:Button_Return__lef,top:Button_Return__top,width:Button_Return__wid,height:Button_Return__hei}" style="position:absolute;color:rgb(255,255,255);font-size:24px;">{{Button_Return__cap}}
        </el-button>
        <el-button size=small v-if="Button_Menu__vis" :disabled="Button_Menu__dis" :type="Button_Menu__typ" icon="el-icon-menu" :style="{left:Button_Menu__lef,top:Button_Menu__top,width:Button_Menu__wid,height:Button_Menu__hei}" style="position:absolute;color:rgb(255,255,255);font-size:24px;">{{Button_Menu__cap}}
        </el-button>
        </el-main>
        <el-main v-if="Panel_Footer__vis" :disabled="Panel_Footer__dis" :style="{backgroundColor:Panel_Footer__col,left:Panel_Footer__lef,top:Panel_Footer__top,width:Panel_Footer__wid,height:Panel_Footer__hei}" style="position:absolute;overflow:hidden;">
        <el-image :src="Image_bottom0__src" fit="none" v-if="Image_bottom0__vis" :disabled="Image_bottom0__dis" :style="{left:Image_bottom0__lef,top:Image_bottom0__top,width:Image_bottom0__wid,height:Image_bottom0__hei}" style="position:absolute;">
        </el-Image>
        <el-image :src="Image_bottom1__src" fit="none" v-if="Image_bottom1__vis" :disabled="Image_bottom1__dis" :style="{left:Image_bottom1__lef,top:Image_bottom1__top,width:Image_bottom1__wid,height:Image_bottom1__hei}" style="position:absolute;">
        </el-Image>
        <el-image :src="Image_bottom2__src" fit="none" v-if="Image_bottom2__vis" :disabled="Image_bottom2__dis" :style="{left:Image_bottom2__lef,top:Image_bottom2__top,width:Image_bottom2__wid,height:Image_bottom2__hei}" style="position:absolute;border-radius:50%;">
        </el-Image>
        <el-image :src="Image_bottom3__src" fit="none" v-if="Image_bottom3__vis" :disabled="Image_bottom3__dis" :style="{left:Image_bottom3__lef,top:Image_bottom3__top,width:Image_bottom3__wid,height:Image_bottom3__hei}" style="position:absolute;">
        </el-Image>
        <el-image :src="Image_bottom4__src" fit="none" v-if="Image_bottom4__vis" :disabled="Image_bottom4__dis" :style="{left:Image_bottom4__lef,top:Image_bottom4__top,width:Image_bottom4__wid,height:Image_bottom4__hei}" style="position:absolute;">
        </el-Image>
        <el-main v-if="Panel_FooterTopLine__vis" :disabled="Panel_FooterTopLine__dis" :style="{backgroundColor:Panel_FooterTopLine__col,left:Panel_FooterTopLine__lef,top:Panel_FooterTopLine__top,width:Panel_FooterTopLine__wid,height:Panel_FooterTopLine__hei}" style="position:absolute;overflow:hidden;">
        </el-main>
        <el-main v-if="Panel1__vis" :disabled="Panel1__dis" :style="{backgroundColor:Panel1__col,left:Panel1__lef,top:Panel1__top,width:Panel1__wid,height:Panel1__hei}" style="position:absolute;overflow:hidden;">
        </el-main>
        </el-main>
        <div v-if="ScrollBox_Content__vis" :disabled="ScrollBox_Content__dis" :style="{left:ScrollBox_Content__lef,top:ScrollBox_Content__top,width:ScrollBox_Content__wid,height:ScrollBox_Content__hei}" style="position:absolute;">
        <el-scrollbar ref="ScrollBox_Content" style="height:100%;" @scroll="dwevent($event,'ScrollBox_Content','0','onscroll','2885552')">
        <el-main v-if="Panel_Content__vis" :disabled="Panel_Content__dis" :style="{backgroundColor:Panel_Content__col,left:Panel_Content__lef,top:Panel_Content__top,width:Panel_Content__wid,height:Panel_Content__hei}" style="position:relative;overflow:hidden;">
        </el-main>
        </el-scrollbar>
        </div>
	 </div>
    <script>
       Vue.prototype.dwsetcookie = function (c_name, value, expiredays) {
            var exdate = new Date();
            exdate.setDate(exdate.getDate() + expiredays);
            document.cookie = c_name + "=" + escape(value) + ((expiredays == null) ? "" : ";expires=" + exdate.toGMTString()); 
       },
       Vue.prototype.dwgetcookie = function (name) {
            var arr,reg=new RegExp("(^| )"+name+"=([^;]*)(;|$)"); 
            if(arr=document.cookie.match(reg))
                 return unescape(arr[2]); 
            else
                 return '';
       },
	    Vue.prototype.procResp = function (data){
		    resp = JSON.parse(decodeURIComponent(String(data))); 
		    if (resp.m === "update"){
		        eval(String(resp.o));
		    } else if (resp.m === "showform"){
		        document.open();document.write(String(resp.o));
		    }
	    } 
        new Vue(
			{
				el: '#app',
				data: function () {
					return {
					    Form1_2__top:"0px",
					    Form1_2__wid:"350px",
					    Form1_2__hei:"631px",
                        Label_Header__lef:"49px",
                        Label_Header__top:"3px",
                        Label_Header__wid:"255px",
                        Label_Header__hei:"34px",
                        Label_Header__vis:true,
                        Label_Header__dis:false,
                        Label_Header__cap:"Header",
                        Button_Return__lef:"3px",
                        Button_Return__top:"2px",
                        Button_Return__wid:"40px",
                        Button_Return__hei:"34px",
                        Button_Return__vis:true,
                        Button_Return__dis:false,
                        Button_Return__cap:"",
                        Button_Return__typ:"text",
                        Button_Menu__lef:"310px",
                        Button_Menu__top:"2px",
                        Button_Menu__wid:"40px",
                        Button_Menu__hei:"34px",
                        Button_Menu__vis:true,
                        Button_Menu__dis:false,
                        Button_Menu__cap:"",
                        Button_Menu__typ:"text",
                        Panel_Header__lef:"0px",
                        Panel_Header__top:"0px",
                        Panel_Header__wid:"350px",
                        Panel_Header__hei:"40px",
                        Panel_Header__vis:true,
                        Panel_Header__dis:false,
                        Panel_Header__col:"RGB(36,197,22,1.0)",
                        Image_bottom0__lef:"17px",
                        Image_bottom0__top:"14px",
                        Image_bottom0__wid:"24px",
                        Image_bottom0__hei:"24px",
                        Image_bottom0__vis:true,
                        Image_bottom0__dis:false,
                        Image_bottom0__src:"/media/images/app0/bottom0.jpg",
                        Image_bottom1__lef:"91px",
                        Image_bottom1__top:"14px",
                        Image_bottom1__wid:"24px",
                        Image_bottom1__hei:"24px",
                        Image_bottom1__vis:true,
                        Image_bottom1__dis:false,
                        Image_bottom1__src:"/media/images/app0/bottom1.jpg",
                        Image_bottom2__lef:"159px",
                        Image_bottom2__top:"1px",
                        Image_bottom2__wid:"40px",
                        Image_bottom2__hei:"50px",
                        Image_bottom2__vis:true,
                        Image_bottom2__dis:false,
                        Image_bottom2__src:"/media/images/app0/bottom2.jpg",
                        Image_bottom3__lef:"244px",
                        Image_bottom3__top:"14px",
                        Image_bottom3__wid:"24px",
                        Image_bottom3__hei:"24px",
                        Image_bottom3__vis:true,
                        Image_bottom3__dis:false,
                        Image_bottom3__src:"/media/images/app0/bottom3.jpg",
                        Image_bottom4__lef:"311px",
                        Image_bottom4__top:"14px",
                        Image_bottom4__wid:"24px",
                        Image_bottom4__hei:"24px",
                        Image_bottom4__vis:true,
                        Image_bottom4__dis:false,
                        Image_bottom4__src:"/media/images/app0/bottom4.jpg",
                        Panel_FooterTopLine__lef:"0px",
                        Panel_FooterTopLine__top:"0px",
                        Panel_FooterTopLine__wid:"360px",
                        Panel_FooterTopLine__hei:"1px",
                        Panel_FooterTopLine__vis:true,
                        Panel_FooterTopLine__dis:false,
                        Panel_FooterTopLine__col:"RGB(240,240,240,1.0)",
                        Panel1__lef:"0px",
                        Panel1__top:"49px",
                        Panel1__wid:"360px",
                        Panel1__hei:"1px",
                        Panel1__vis:true,
                        Panel1__dis:false,
                        Panel1__col:"RGB(0,0,128,1.0)",
                        Panel_Footer__lef:"0px",
                        Panel_Footer__top:"581px",
                        Panel_Footer__wid:"360px",
                        Panel_Footer__hei:"50px",
                        Panel_Footer__vis:true,
                        Panel_Footer__dis:false,
                        Panel_Footer__col:"RGB(255,255,255,1.0)",
                        Panel_Content__lef:"0px",
                        Panel_Content__top:"0px",
                        Panel_Content__wid:"350px",
                        Panel_Content__hei:"1200px",
                        Panel_Content__vis:true,
                        Panel_Content__dis:false,
                        Panel_Content__col:"RGB(255,255,255,1.0)",
                        ScrollBox_Content__lef:"0px",
                        ScrollBox_Content__top:"40px",
                        ScrollBox_Content__wid:"350px",
                        ScrollBox_Content__hei:"541px",
                        ScrollBox_Content__vis:true,
                        ScrollBox_Content__dis:false,
                        ScrollBox_Content__typ:"",
                        ScrollBox_Content__ost:0,
					    input_query_visible:false,
					    input_query_caption:"Input Query",
					    input_query_inputname:"new",
					    input_query_cancelcaption:"Cancel",
					    input_query_okcaption:"OK",
					    input_query_inputdefault:"",
					    input_query_method:"processinputquery",
					    input_query_visible:false,
					    version__istrial:false,
					    clientid:2885552,
					    shuntflag:7687
                    }
                },
                mounted() {
                    let me=this;
                    window.addEventListener(
                        "onorientationchange" in window ? "orientationchange" : "resize",
                        function() {
                            axios.get('{"m":"event","i":2885552,"c":"_screen","os":'+os()+',"orientation":"'+window.orientation+'","clientwidth":'+document.documentElement.clientWidth+',"clientheight":'+document.documentElement.clientHeight+',"innerwidth":'+window.innerWidth+',"innerheight":'+window.innerHeight+',"width":'+screen.width+',"height":'+screen.height+'}',{headers:{shuntflag:7687}})
                            .then(resp =>{me.procResp(resp.data)});
                        },
                        false
                    );
                    let Form1_2hearttimer = window.setInterval(function() {
                        axios.get('{"m":"heart","i":2885552}',{headers:{shuntflag:7687}})
                        .then(resp =>{me.procResp(resp.data)})
                        .catch((error) =>{me.dwnotify("Info","Network is disconnected!");clearInterval(Form1_2hearttimer);});
                    }, 590000);
                },
				methods: {
                    ToWebsite (e,n) {
                        var aTag = document.createElement('a'); 
                        aTag.setAttribute('href', e);
                        aTag.setAttribute('target', n);
                        aTag.click();
                    },
                    dwInputClick (e) {
                        document.getElementById(e).click();
                    },
                    dwInputChange (e) {
                        this[e+"__cap"] = document.getElementById(e+"__inp").files[0].name;
                        var sget = '{"m":"event","i":2885552,"c":"'+e+'","e":"getfilename","v":"'+escape(document.getElementById(e+"__inp").files[0].name)+'"}';
                        axios.get(sget)
                    },
                    filterHandler(value, row, column) {
                        const property = column['property'];
                        return row[property] === value;
                    },
                    dwInputSubmit (ipname) {
                        let me=this;let formData = new FormData();
                        formData.append('file', document.getElementById(ipname+"__inp").files[0]);
                        let config = {headers: {'Content-Type': 'multipart/form-data'}}
                        axios.post('/upload', formData, config)
                        .then(function (res) {
                            var sget = '{"m":"event","i":2885552,"c":"'+ipname+'","e":"onenddock","v":"success"}';
                            axios.get(sget)
                            .then(resp =>{me.procResp(resp.data)});
                        })
                    },
                    dwInputSubmit0 (ipname) {
                        document.getElementById(ipname+"__frm").submit();
                    },
                    dwnotify(caption,text) {this.$notify.warning({ title: caption, message: text, duration: 0,showClose: false });},
                    dwevent(val,compname,compvalue,compevent,handle) {
                        var jo={};
                        jo.m="event";
                        jo.i=handle;
                        jo.c=compname;
                        jo.v=escape(eval(compvalue))
                        jo.e=compevent;
                        axios.get(JSON.stringify(jo),{headers:{shuntflag:7687}})
                        .then(resp =>{this.procResp(resp.data)});
                    },
                    processinputquery(val) {
                        this.input_query_visible = false;
                        axios.get('{"m":"interaction","i":2885552,"s":"inputquery","t":"'+this.input_query_method+'","v":"'+this.input_query_inputdefault+'"}',{headers:{shuntflag:7687}})
                        .then(resp =>{this.procResp(resp.data)});
                    },
                },
                beforeDestroy() {
                    clearInterval(hearttimer);
                }
            }
        ); 
    </script>
</body>
</html>
